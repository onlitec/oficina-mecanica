<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relat√≥rios - Oficina Mec√¢nica</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="dashboard-layout">
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo">
                <span class="logo-icon">üöó</span>
                <span>Minha Oficina</span>
            </a>
            
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="/dashboard.html" class="nav-link">
                            <span>üìä</span>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/customers.html" class="nav-link">
                            <span>üë•</span>
                            Clientes
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/service-orders.html" class="nav-link">
                            <span>üîß</span>
                            Ordens de Servi√ßo
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/parts.html" class="nav-link">
                            <span>‚öôÔ∏è</span>
                            Pe√ßas
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/financial.html" class="nav-link">
                            <span>üí∞</span>
                            Financeiro
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/reports.html" class="nav-link active">
                            <span>üìà</span>
                            Relat√≥rios
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/settings.html" class="nav-link">
                            <span>‚öôÔ∏è</span>
                            Configura√ß√µes
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="user-menu">
                <div class="user-info" onclick="toggleUserMenu()">
                    <div class="user-avatar">U</div>
                    <span id="userName">Usu√°rio</span>
                    <span>‚ñº</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Page Header -->
        <div class="card">
            <div class="card-header">
                <div>
                    <h1 class="card-title">
                        <span>üìä</span>
                        Central de Relat√≥rios
                    </h1>
                    <p class="card-subtitle">An√°lises detalhadas e insights do seu neg√≥cio</p>
                </div>
                <div style="display: flex; gap: var(--space-3);">
                    <button class="btn btn-secondary" onclick="refreshDashboard()">
                        <span>üîÑ</span>
                        Atualizar
                    </button>
                    <button class="btn btn-primary" onclick="exportAllReports()">
                        <span>üìä</span>
                        Exportar Tudo
                    </button>
                </div>
            </div>
        </div>

        <!-- Dashboard de M√©tricas Resumo -->
        <div class="card" style="margin-bottom: var(--space-6);">
            <div class="card-header">
                <h2 class="card-title">
                    <span>üìà</span>
                    Resumo Executivo
                </h2>
                <div>
                    <select id="dashboardPeriod" class="form-input" onchange="updateDashboard()" style="width: auto;">
                        <option value="30">√öltimos 30 dias</option>
                        <option value="90">√öltimos 3 meses</option>
                        <option value="365">√öltimo ano</option>
                    </select>
                </div>
            </div>
            <div class="card-body">
                <!-- Loading State -->
                <div id="dashboardLoading" style="display: none;">
                    <div style="text-align: center; padding: var(--space-6); color: var(--text-secondary);">
                        <div class="loading-spinner" style="margin-bottom: var(--space-3);"></div>
                        <p>Carregando m√©tricas...</p>
                    </div>
                </div>

                <!-- Error State -->
                <div id="dashboardError" style="display: none;">
                    <div style="text-align: center; padding: var(--space-6); color: var(--error-color);">
                        <div style="font-size: 3rem; margin-bottom: var(--space-3);">‚ùå</div>
                        <h3 style="margin-bottom: var(--space-2);">Erro ao carregar dados</h3>
                        <p id="dashboardErrorMessage" style="margin-bottom: var(--space-4);">Erro desconhecido</p>
                        <button class="btn btn-primary" onclick="loadDashboard()">
                            <span>üîÑ</span>
                            Tentar Novamente
                        </button>
                    </div>
                </div>

                <!-- Dashboard Content -->
                <div id="dashboardContent">
                    <!-- M√©tricas Principais -->
                    <div class="stats-grid" style="margin-bottom: var(--space-6);">
                        <div class="stat-card">
                            <div class="stat-header">
                                <div>
                                    <div class="stat-value" id="totalOrders">0</div>
                                    <div class="stat-label">Ordens de Servi√ßo</div>
                                </div>
                                <div class="stat-icon primary">üîß</div>
                            </div>
                            <div class="stat-trend" id="ordersTrend">+12% vs per√≠odo anterior</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <div>
                                    <div class="stat-value success" id="totalRevenue">R$ 0,00</div>
                                    <div class="stat-label">Receita Total</div>
                                </div>
                                <div class="stat-icon success">üí∞</div>
                            </div>
                            <div class="stat-trend" id="revenueTrend">+8% vs per√≠odo anterior</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <div>
                                    <div class="stat-value info" id="totalCustomers">0</div>
                                    <div class="stat-label">Clientes Ativos</div>
                                </div>
                                <div class="stat-icon info">üë•</div>
                            </div>
                            <div class="stat-trend" id="customersTrend">+5% vs per√≠odo anterior</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <div>
                                    <div class="stat-value warning" id="avgTicket">R$ 0,00</div>
                                    <div class="stat-label">Ticket M√©dio</div>
                                </div>
                                <div class="stat-icon warning">üìä</div>
                            </div>
                            <div class="stat-trend" id="ticketTrend">-2% vs per√≠odo anterior</div>
                        </div>
                    </div>

                    <!-- Alertas -->
                    <div id="alertsSection" style="display: none; margin-bottom: var(--space-6);">
                        <div class="alert alert-warning">
                            <div style="display: flex; align-items: center; gap: var(--space-3);">
                                <span style="font-size: 1.5rem;">‚ö†Ô∏è</span>
                                <div style="flex: 1;">
                                    <strong>Aten√ß√£o!</strong> Existem <span id="alertCount">0</span> itens que requerem sua aten√ß√£o.
                                </div>
                                <button class="btn btn-sm btn-warning" onclick="showAlerts()">Ver Detalhes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filtros Globais -->
        <div class="card" style="margin-bottom: var(--space-6);">
            <div class="card-header">
                <h2 class="card-title">
                    <span>üîç</span>
                    Filtros de Per√≠odo
                </h2>
            </div>
            <div class="card-body">
                <div class="form-row">
                    <div class="form-group">
                        <label for="startDate" class="form-label">Data Inicial</label>
                        <input type="date" id="startDate" class="form-input">
                    </div>

                    <div class="form-group">
                        <label for="endDate" class="form-label">Data Final</label>
                        <input type="date" id="endDate" class="form-input">
                    </div>

                    <div class="form-group">
                        <label for="quickPeriod" class="form-label">Per√≠odo R√°pido</label>
                        <select id="quickPeriod" class="form-input" onchange="setQuickPeriod()">
                            <option value="">Personalizado</option>
                            <option value="today">Hoje</option>
                            <option value="week">Esta Semana</option>
                            <option value="month">Este M√™s</option>
                            <option value="quarter">Este Trimestre</option>
                            <option value="year">Este Ano</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="reportType" class="form-label">Tipo de Relat√≥rio</label>
                        <select id="reportType" class="form-input">
                            <option value="all">Todos os Relat√≥rios</option>
                            <option value="financial">Financeiro</option>
                            <option value="operational">Operacional</option>
                            <option value="inventory">Estoque</option>
                        </select>
                    </div>
                </div>

                <div style="margin-top: var(--space-4);">
                    <button class="btn btn-primary" onclick="applyFilters()">
                        <span>üîç</span>
                        Aplicar Filtros
                    </button>
                    <button class="btn btn-secondary" onclick="resetFilters()">
                        <span>üîÑ</span>
                        Limpar Filtros
                    </button>
                </div>
            </div>
        </div>

        <!-- Relat√≥rios Dispon√≠veis -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">
                    <span>üìä</span>
                    Relat√≥rios Dispon√≠veis
                </h2>
                <div>
                    <button class="btn btn-secondary" onclick="toggleView()">
                        <span id="viewToggleIcon">üìã</span>
                        <span id="viewToggleText">Lista</span>
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div id="reportsGrid" class="reports-grid">
                    <!-- Relat√≥rios Financeiros -->
                    <div class="report-category">
                        <h3 class="category-title">
                            <span>üí∞</span>
                            Relat√≥rios Financeiros
                        </h3>
                        <div class="category-reports">
                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-icon success">üìà</div>
                                    <div>
                                        <div class="report-title">Receita e Faturamento</div>
                                        <div class="report-subtitle">An√°lise de receitas por per√≠odo</div>
                                    </div>
                                </div>
                                <div class="report-description">
                                    Relat√≥rio detalhado de receitas, faturamento, formas de pagamento e an√°lise de crescimento.
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-primary" onclick="showRevenueReport()">
                                        <span>üìä</span>
                                        Visualizar
                                    </button>
                                    <button class="btn btn-secondary" onclick="exportRevenueReport()">
                                        <span>üìÑ</span>
                                        Exportar
                                    </button>
                                </div>
                            </div>

                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-icon warning">üí≥</div>
                                    <div>
                                        <div class="report-title">Contas a Receber</div>
                                        <div class="report-subtitle">Controle de recebimentos</div>
                                    </div>
                                </div>
                                <div class="report-description">
                                    Relat√≥rio de faturas pendentes, vencidas, em atraso e proje√ß√µes de recebimento.
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-primary" onclick="showReceivablesReport()">
                                        <span>üí≥</span>
                                        Visualizar
                                    </button>
                                    <button class="btn btn-secondary" onclick="exportReceivablesReport()">
                                        <span>üìÑ</span>
                                        Exportar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Relat√≥rios Operacionais -->
                    <div class="report-category">
                        <h3 class="category-title">
                            <span>üîß</span>
                            Relat√≥rios Operacionais
                        </h3>
                        <div class="category-reports">
                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-icon primary">üîß</div>
                                    <div>
                                        <div class="report-title">Ordens de Servi√ßo</div>
                                        <div class="report-subtitle">Performance operacional</div>
                                    </div>
                                </div>
                                <div class="report-description">
                                    An√°lise de ordens de servi√ßo por status, tempo m√©dio, produtividade e satisfa√ß√£o.
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-primary" onclick="showServiceOrdersReport()">
                                        <span>üîß</span>
                                        Visualizar
                                    </button>
                                    <button class="btn btn-secondary" onclick="exportServiceOrdersReport()">
                                        <span>üìÑ</span>
                                        Exportar
                                    </button>
                                </div>
                            </div>

                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-icon info">üë•</div>
                                    <div>
                                        <div class="report-title">Clientes</div>
                                        <div class="report-subtitle">An√°lise de clientes</div>
                                    </div>
                                </div>
                                <div class="report-description">
                                    Relat√≥rio de clientes ativos, novos clientes, reten√ß√£o e an√°lise de comportamento.
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-primary" onclick="showCustomersReport()">
                                        <span>üë•</span>
                                        Visualizar
                                    </button>
                                    <button class="btn btn-secondary" onclick="exportCustomersReport()">
                                        <span>üìÑ</span>
                                        Exportar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Relat√≥rios de Estoque -->
                    <div class="report-category">
                        <h3 class="category-title">
                            <span>üì¶</span>
                            Relat√≥rios de Estoque
                        </h3>
                        <div class="category-reports">
                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-icon warning">‚ö†Ô∏è</div>
                                    <div>
                                        <div class="report-title">Estoque Baixo</div>
                                        <div class="report-subtitle">Controle de reposi√ß√£o</div>
                                    </div>
                                </div>
                                <div class="report-description">
                                    Pe√ßas com estoque abaixo do m√≠nimo, sem estoque ou em situa√ß√£o cr√≠tica.
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-primary" onclick="showLowStockReport()">
                                        <span>‚ö†Ô∏è</span>
                                        Visualizar
                                    </button>
                                    <button class="btn btn-secondary" onclick="exportLowStockReport()">
                                        <span>üìÑ</span>
                                        Exportar
                                    </button>
                                </div>
                            </div>

                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-icon primary">üîÑ</div>
                                    <div>
                                        <div class="report-title">Movimenta√ß√£o de Estoque</div>
                                        <div class="report-subtitle">Hist√≥rico de movimenta√ß√µes</div>
                                    </div>
                                </div>
                                <div class="report-description">
                                    Hist√≥rico de movimenta√ß√µes de estoque, entradas, sa√≠das e transfer√™ncias.
                                </div>
                                <div class="report-actions">
                                    <button class="btn btn-primary" onclick="showMovementReport()">
                                        <span>üîÑ</span>
                                        Visualizar
                                    </button>
                                    <button class="btn btn-secondary" onclick="exportMovementReport()">
                                        <span>üìÑ</span>
                                        Exportar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Verificar autentica√ß√£o
        const auth = new AuthManager();
        if (!auth.isAuthenticated()) {
            window.location.href = '/login.html';
        }

        // Atualizar nome do usu√°rio
        const user = auth.getUser();
        if (user) {
            document.getElementById('userName').textContent = user.name || user.email;
            document.querySelector('.user-avatar').textContent = (user.name || user.email).charAt(0).toUpperCase();
        }

        // Toggle user menu
        function toggleUserMenu() {
            const confirmed = confirm('Deseja fazer logout?');
            if (confirmed) {
                auth.logout();
                window.location.href = '/login.html';
            }
        }

        // Definir datas padr√£o
        function setDefaultDates() {
            const endDate = new Date();
            const startDate = new Date(endDate.getFullYear(), endDate.getMonth(), 1);

            document.getElementById('endDate').value = endDate.toISOString().split('T')[0];
            document.getElementById('startDate').value = startDate.toISOString().split('T')[0];
        }

        // Definir per√≠odo r√°pido
        function setQuickPeriod() {
            const period = document.getElementById('quickPeriod').value;
            const today = new Date();
            let startDate, endDate = today;

            switch (period) {
                case 'today':
                    startDate = today;
                    break;
                case 'week':
                    startDate = new Date(today);
                    startDate.setDate(today.getDate() - today.getDay());
                    break;
                case 'month':
                    startDate = new Date(today.getFullYear(), today.getMonth(), 1);
                    break;
                case 'quarter':
                    const quarter = Math.floor(today.getMonth() / 3);
                    startDate = new Date(today.getFullYear(), quarter * 3, 1);
                    break;
                case 'year':
                    startDate = new Date(today.getFullYear(), 0, 1);
                    break;
                default:
                    return;
            }

            document.getElementById('startDate').value = startDate.toISOString().split('T')[0];
            document.getElementById('endDate').value = endDate.toISOString().split('T')[0];
        }

        // Carregar dashboard
        async function loadDashboard() {
            try {
                showDashboardLoading();

                // Simular dados para demonstra√ß√£o
                const mockData = generateMockDashboardData();

                // Simular delay da API
                await new Promise(resolve => setTimeout(resolve, 1000));

                displayDashboard(mockData);
                showDashboardContent();

            } catch (error) {
                showDashboardError('Erro de conex√£o: ' + error.message);
            }
        }

        // Gerar dados mock para o dashboard
        function generateMockDashboardData() {
            return {
                totalOrders: Math.floor(Math.random() * 100) + 50,
                totalRevenue: (Math.random() * 100000 + 20000).toFixed(2),
                totalCustomers: Math.floor(Math.random() * 200) + 100,
                avgTicket: (Math.random() * 1000 + 300).toFixed(2),
                alerts: Math.floor(Math.random() * 10) + 2
            };
        }
        
        // Exibir dashboard
        function displayDashboard(data) {
            // Atualizar m√©tricas
            document.getElementById('totalOrders').textContent = data.totalOrders || 0;
            document.getElementById('totalRevenue').textContent = formatCurrency(data.totalRevenue);
            document.getElementById('totalCustomers').textContent = data.totalCustomers || 0;
            document.getElementById('avgTicket').textContent = formatCurrency(data.avgTicket);

            // Mostrar alertas se necess√°rio
            if (data.alerts > 0) {
                document.getElementById('alertCount').textContent = data.alerts;
                document.getElementById('alertsSection').style.display = 'block';
            } else {
                document.getElementById('alertsSection').style.display = 'none';
            }
        }

        // Estados do dashboard
        function showDashboardLoading() {
            document.getElementById('dashboardLoading').style.display = 'block';
            document.getElementById('dashboardError').style.display = 'none';
            document.getElementById('dashboardContent').style.display = 'block';
        }

        function showDashboardError(message) {
            document.getElementById('dashboardLoading').style.display = 'none';
            document.getElementById('dashboardError').style.display = 'block';
            document.getElementById('dashboardErrorMessage').textContent = message;
            document.getElementById('dashboardContent').style.display = 'none';
        }

        function showDashboardContent() {
            document.getElementById('dashboardLoading').style.display = 'none';
            document.getElementById('dashboardError').style.display = 'none';
            document.getElementById('dashboardContent').style.display = 'block';
        }

        // Criar gr√°fico r√°pido
        function createQuickChart(topParts) {
            const ctx = document.getElementById('quickChart').getContext('2d');

            if (quickChart) {
                quickChart.destroy();
            }

            const labels = topParts.map(item => item.part.name);
            const quantities = topParts.map(item => item.quantity);

            quickChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Quantidade Utilizada',
                        data: quantities,
                        backgroundColor: [
                            '#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe'
                        ],
                        borderColor: '#667eea',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        },
                        x: {
                            ticks: {
                                maxRotation: 45,
                                minRotation: 45
                            }
                        }
                    }
                }
            });
        }
        
        // Definir datas padr√£o (√∫ltimos 30 dias)
        function setDefaultDates() {
            const endDate = new Date();
            const startDate = new Date();
            startDate.setDate(startDate.getDate() - 30);
            
            document.getElementById('endDate').value = endDate.toISOString().split('T')[0];
            document.getElementById('startDate').value = startDate.toISOString().split('T')[0];
        }
        
        // Aplicar filtros
        function applyFilters() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            
            if (!startDate || !endDate) {
                alert('Por favor, selecione as datas inicial e final.');
                return;
            }
            
            if (new Date(startDate) > new Date(endDate)) {
                alert('A data inicial deve ser anterior √† data final.');
                return;
            }
            
            // Recarregar dashboard com filtros
            loadDashboard();
        }
        
        // Relat√≥rios espec√≠ficos
        function showConsumptionReport() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const params = new URLSearchParams();
            
            if (startDate) params.append('startDate', startDate);
            if (endDate) params.append('endDate', endDate);
            
            window.open(`/report-consumption.html?${params}`, '_blank');
        }
        
        function showLowStockReport() {
            window.open('/report-low-stock.html', '_blank');
        }
        
        function showMovementReport() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const params = new URLSearchParams();

            if (startDate) params.append('startDate', startDate);
            if (endDate) params.append('endDate', endDate);

            window.location.href = `/report-movement.html?${params}`;
        }
        
        function showValueReport() {
            window.open('/report-value.html', '_blank');
        }
        
        // Exporta√ß√µes (placeholder)
        function exportConsumptionReport() {
            alert('Funcionalidade de exporta√ß√£o ser√° implementada em breve!');
        }
        
        function exportLowStockReport() {
            alert('Funcionalidade de exporta√ß√£o ser√° implementada em breve!');
        }
        
        function exportMovementReport() {
            alert('Funcionalidade de exporta√ß√£o ser√° implementada em breve!');
        }

        // Fun√ß√µes dos relat√≥rios
        function showRevenueReport() {
            showInfoNotification('Abrindo relat√≥rio de receita e faturamento...');
        }

        function showReceivablesReport() {
            showInfoNotification('Abrindo relat√≥rio de contas a receber...');
        }

        function showServiceOrdersReport() {
            showInfoNotification('Abrindo relat√≥rio de ordens de servi√ßo...');
        }

        function showCustomersReport() {
            showInfoNotification('Abrindo relat√≥rio de clientes...');
        }

        function showLowStockReport() {
            showInfoNotification('Abrindo relat√≥rio de estoque baixo...');
        }

        function showMovementReport() {
            showInfoNotification('Abrindo relat√≥rio de movimenta√ß√£o...');
        }

        // Fun√ß√µes de exporta√ß√£o
        function exportRevenueReport() {
            showInfoNotification('Exportando relat√≥rio de receita...');
        }

        function exportReceivablesReport() {
            showInfoNotification('Exportando relat√≥rio de contas a receber...');
        }

        function exportServiceOrdersReport() {
            showInfoNotification('Exportando relat√≥rio de ordens de servi√ßo...');
        }

        function exportCustomersReport() {
            showInfoNotification('Exportando relat√≥rio de clientes...');
        }

        function exportLowStockReport() {
            showInfoNotification('Exportando relat√≥rio de estoque baixo...');
        }

        function exportMovementReport() {
            showInfoNotification('Exportando relat√≥rio de movimenta√ß√£o...');
        }

        function exportAllReports() {
            showInfoNotification('Exportando todos os relat√≥rios...');
        }

        // Fun√ß√µes de controle
        function refreshDashboard() {
            loadDashboard();
        }

        function updateDashboard() {
            loadDashboard();
        }

        function applyFilters() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const reportType = document.getElementById('reportType').value;

            if (!startDate || !endDate) {
                showErrorNotification('Por favor, selecione as datas inicial e final');
                return;
            }

            showSuccessNotification('Filtros aplicados com sucesso!');
            loadDashboard();
        }

        function resetFilters() {
            document.getElementById('quickPeriod').value = '';
            document.getElementById('reportType').value = 'all';
            setDefaultDates();
            showInfoNotification('Filtros resetados');
        }

        function showAlerts() {
            showInfoNotification('Exibindo detalhes dos alertas...');
        }

        function toggleView() {
            const icon = document.getElementById('viewToggleIcon');
            const text = document.getElementById('viewToggleText');

            if (text.textContent === 'Lista') {
                icon.textContent = 'üìã';
                text.textContent = 'Cards';
                showInfoNotification('Visualiza√ß√£o alterada para lista');
            } else {
                icon.textContent = 'üìä';
                text.textContent = 'Lista';
                showInfoNotification('Visualiza√ß√£o alterada para cards');
            }
        }

        // Fun√ß√£o para formatar moeda
        function formatCurrency(value) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(value);
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            setDefaultDates();
            loadDashboard();
        });
    </script>

    <!-- Scripts -->
    <script src="/js/auth.js"></script>
    <script src="/js/logo-manager.js"></script>
    <script src="/modelo2-features.js"></script>
</body>
</html>
