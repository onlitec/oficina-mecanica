<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Final - Centraliza√ß√£o Menu</title>
    <link rel="stylesheet" href="/menu-center-fix.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding-top: 80px;
            background: #f5f5f5;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .test-panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .center-guides {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 50000;
        }
        
        .vertical-center {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: red;
            transform: translateX(-50%);
        }
        
        .horizontal-center {
            position: absolute;
            top: 35px;
            left: 0;
            right: 0;
            height: 2px;
            background: blue;
        }
        
        .center-label {
            position: absolute;
            background: white;
            padding: 2px 5px;
            font-size: 10px;
            font-weight: bold;
            border-radius: 3px;
            border: 1px solid;
        }
        
        .vertical-label {
            top: 100px;
            left: 5px;
            color: red;
            border-color: red;
        }
        
        .horizontal-label {
            top: 40px;
            left: 10px;
            color: blue;
            border-color: blue;
        }
        
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .warning { background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        .emergency {
            background: #dc3545;
        }
        
        .emergency:hover {
            background: #c82333;
        }
        
        .coordinates {
            font-family: monospace;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <!-- Guias visuais para mostrar o centro -->
    <div class="center-guides">
        <div class="vertical-center"></div>
        <div class="horizontal-center"></div>
        <div class="center-label vertical-label">CENTRO VERTICAL</div>
        <div class="center-label horizontal-label">CENTRO HORIZONTAL</div>
    </div>
    
    <div class="test-container">
        <div class="test-panel">
            <h1>üéØ TESTE FINAL - Centraliza√ß√£o do Menu</h1>
            <p>As linhas vermelha (vertical) e azul (horizontal) mostram o centro exato onde o menu deveria estar.</p>
        </div>
        
        <div class="test-panel">
            <h3>üìä Status Atual</h3>
            <div id="currentStatus">Verificando...</div>
        </div>
        
        <div class="test-panel">
            <h3>üìç Coordenadas do Menu</h3>
            <div id="coordinates" class="coordinates">Calculando...</div>
        </div>
        
        <div class="test-panel">
            <h3>üîß A√ß√µes</h3>
            <button onclick="checkPosition()">üîç Verificar Posi√ß√£o</button>
            <button onclick="forceCenter()" class="emergency">üö® For√ßar Centraliza√ß√£o</button>
            <button onclick="showCSS()">üìã Mostrar CSS</button>
            <button onclick="resetMenu()">üîÑ Reset Menu</button>
        </div>
        
        <div class="test-panel">
            <h3>üìà Resultado da Verifica√ß√£o</h3>
            <div id="result">Clique em "Verificar Posi√ß√£o" para come√ßar.</div>
        </div>
        
        <div class="test-panel">
            <h3>üõ†Ô∏è Informa√ß√µes T√©cnicas</h3>
            <div id="techInfo">Carregando...</div>
        </div>
    </div>

    <script src="/js/global-menu.js"></script>
    <script src="/js/logo-manager.js"></script>
    <script src="/force-center-menu.js"></script>
    
    <script>
        function checkPosition() {
            const mainNav = document.querySelector('.main-nav');
            const headerContent = document.querySelector('.header-content');
            const result = document.getElementById('result');
            const coordinates = document.getElementById('coordinates');
            
            if (!mainNav) {
                result.innerHTML = '<div class="error">‚ùå Menu n√£o encontrado!</div>';
                return;
            }
            
            const rect = mainNav.getBoundingClientRect();
            const windowCenterX = window.innerWidth / 2;
            const windowCenterY = 35; // Altura aproximada do centro do header
            
            const menuCenterX = rect.left + rect.width / 2;
            const menuCenterY = rect.top + rect.height / 2;
            
            const offsetX = Math.abs(menuCenterX - windowCenterX);
            const offsetY = Math.abs(menuCenterY - windowCenterY);
            
            // Atualizar coordenadas
            coordinates.innerHTML = `
                <strong>Menu:</strong><br>
                ‚Ä¢ Left: ${rect.left.toFixed(1)}px<br>
                ‚Ä¢ Top: ${rect.top.toFixed(1)}px<br>
                ‚Ä¢ Width: ${rect.width.toFixed(1)}px<br>
                ‚Ä¢ Height: ${rect.height.toFixed(1)}px<br>
                ‚Ä¢ Center X: ${menuCenterX.toFixed(1)}px<br>
                ‚Ä¢ Center Y: ${menuCenterY.toFixed(1)}px<br><br>
                
                <strong>Janela:</strong><br>
                ‚Ä¢ Center X: ${windowCenterX.toFixed(1)}px<br>
                ‚Ä¢ Center Y: ${windowCenterY.toFixed(1)}px<br><br>
                
                <strong>Offset:</strong><br>
                ‚Ä¢ X: ${offsetX.toFixed(1)}px<br>
                ‚Ä¢ Y: ${offsetY.toFixed(1)}px
            `;
            
            // Determinar resultado
            let resultHtml = '';
            if (offsetX <= 5 && offsetY <= 10) {
                resultHtml = '<div class="success">‚úÖ MENU PERFEITAMENTE CENTRALIZADO!</div>';
            } else if (offsetX <= 20 && offsetY <= 20) {
                resultHtml = '<div class="warning">‚ö†Ô∏è Menu quase centralizado</div>';
                resultHtml += `<p>Offset X: ${offsetX.toFixed(1)}px, Offset Y: ${offsetY.toFixed(1)}px</p>`;
            } else {
                resultHtml = '<div class="error">‚ùå MENU N√ÉO EST√Å CENTRALIZADO</div>';
                resultHtml += `<p>Offset X: ${offsetX.toFixed(1)}px, Offset Y: ${offsetY.toFixed(1)}px</p>`;
                resultHtml += '<p>O menu est√° significativamente fora do centro.</p>';
            }
            
            result.innerHTML = resultHtml;
        }
        
        function forceCenter() {
            const mainNav = document.querySelector('.main-nav');
            if (!mainNav) {
                alert('Menu n√£o encontrado!');
                return;
            }
            
            // Aplicar centraliza√ß√£o for√ßada
            mainNav.style.cssText = `
                position: absolute !important;
                left: 50% !important;
                top: 50% !important;
                transform: translate(-50%, -50%) !important;
                z-index: 99999 !important;
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
            `;
            
            // Verificar ap√≥s aplicar
            setTimeout(checkPosition, 100);
        }
        
        function showCSS() {
            const mainNav = document.querySelector('.main-nav');
            if (!mainNav) {
                alert('Menu n√£o encontrado!');
                return;
            }
            
            const styles = window.getComputedStyle(mainNav);
            const techInfo = document.getElementById('techInfo');
            
            techInfo.innerHTML = `
                <strong>CSS Computado:</strong><br>
                ‚Ä¢ position: ${styles.position}<br>
                ‚Ä¢ left: ${styles.left}<br>
                ‚Ä¢ top: ${styles.top}<br>
                ‚Ä¢ transform: ${styles.transform}<br>
                ‚Ä¢ display: ${styles.display}<br>
                ‚Ä¢ justify-content: ${styles.justifyContent}<br>
                ‚Ä¢ align-items: ${styles.alignItems}<br>
                ‚Ä¢ z-index: ${styles.zIndex}<br>
                ‚Ä¢ margin: ${styles.margin}<br>
                ‚Ä¢ padding: ${styles.padding}
            `;
        }
        
        function resetMenu() {
            location.reload();
        }
        
        // Verifica√ß√£o autom√°tica
        setTimeout(() => {
            checkPosition();
            showCSS();
            
            const status = document.getElementById('currentStatus');
            const globalHeader = document.querySelector('.global-header');
            const mainNav = document.querySelector('.main-nav');
            
            let statusHtml = '';
            if (globalHeader) {
                statusHtml += '<div class="success">‚úÖ Header global carregado</div>';
            } else {
                statusHtml += '<div class="error">‚ùå Header global n√£o carregado</div>';
            }
            
            if (mainNav) {
                statusHtml += '<div class="success">‚úÖ Menu principal carregado</div>';
            } else {
                statusHtml += '<div class="error">‚ùå Menu principal n√£o carregado</div>';
            }
            
            status.innerHTML = statusHtml;
        }, 2000);
    </script>
</body>
</html>
