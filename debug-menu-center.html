<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Menu Centraliza√ß√£o</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 80px 20px 20px;
            background: #f5f5f5;
        }
        
        .debug-panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .debug-title {
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        
        .debug-item {
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            font-family: monospace;
        }
        
        .debug-item.success {
            border-left-color: #28a745;
            background: #d4edda;
        }
        
        .debug-item.warning {
            border-left-color: #ffc107;
            background: #fff3cd;
        }
        
        .debug-item.error {
            border-left-color: #dc3545;
            background: #f8d7da;
        }
        
        .visual-guide {
            position: relative;
            height: 60px;
            background: linear-gradient(135deg, #2563eb 0%, #8b5cf6 100%);
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .center-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #ff0000;
            transform: translateX(-50%);
        }
        
        .center-line::before {
            content: "Centro";
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff0000;
            font-size: 12px;
            font-weight: bold;
        }
        
        .menu-position {
            position: absolute;
            top: 50%;
            background: rgba(255,255,255,0.9);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            transform: translateY(-50%);
        }
    </style>
</head>
<body>
    <div class="debug-panel">
        <h2 class="debug-title">üîç Diagn√≥stico de Centraliza√ß√£o do Menu</h2>
        <div id="menuStatus">Carregando...</div>
    </div>
    
    <div class="debug-panel">
        <h3 class="debug-title">üìê Guia Visual</h3>
        <div class="visual-guide">
            <div class="center-line"></div>
            <div class="menu-position" id="menuVisualPosition">Menu aqui</div>
        </div>
    </div>
    
    <div class="debug-panel">
        <h3 class="debug-title">üéØ Poss√≠veis Problemas e Solu√ß√µes</h3>
        <div id="solutions">Analisando...</div>
    </div>

    <script src="/js/global-menu.js"></script>
    <script src="/js/logo-manager.js"></script>
    <script>
        setTimeout(() => {
            const menuStatus = document.getElementById('menuStatus');
            const menuVisualPosition = document.getElementById('menuVisualPosition');
            const solutions = document.getElementById('solutions');
            
            const globalHeader = document.querySelector('.global-header');
            const headerContent = document.querySelector('.header-content');
            const mainNav = document.querySelector('.main-nav');
            const logoSection = document.querySelector('.logo-section');
            const userSection = document.querySelector('.user-section');
            
            let status = '';
            let solutionsHtml = '';
            
            // Verifica√ß√µes b√°sicas
            if (!globalHeader) {
                status += '<div class="debug-item error">‚ùå Menu global n√£o carregado</div>';
                solutionsHtml += '<div class="debug-item error">Problema: global-menu.js n√£o est√° carregando. Verifique se o arquivo existe e est√° sendo inclu√≠do.</div>';
            } else {
                status += '<div class="debug-item success">‚úÖ Menu global carregado</div>';
            }
            
            if (!headerContent) {
                status += '<div class="debug-item error">‚ùå Header content n√£o encontrado</div>';
            } else {
                status += '<div class="debug-item success">‚úÖ Header content presente</div>';
                
                const headerStyles = window.getComputedStyle(headerContent);
                status += `<div class="debug-item">Display: ${headerStyles.display}</div>`;
                status += `<div class="debug-item">Justify-content: ${headerStyles.justifyContent}</div>`;
                status += `<div class="debug-item">Width: ${headerStyles.width}</div>`;
                status += `<div class="debug-item">Max-width: ${headerStyles.maxWidth}</div>`;
            }
            
            if (!mainNav) {
                status += '<div class="debug-item error">‚ùå Main nav n√£o encontrado</div>';
                solutionsHtml += '<div class="debug-item error">Problema: Elemento .main-nav n√£o foi criado. Verifique a fun√ß√£o createMenuHTML().</div>';
            } else {
                status += '<div class="debug-item success">‚úÖ Main nav presente</div>';
                
                const navStyles = window.getComputedStyle(mainNav);
                const navRect = mainNav.getBoundingClientRect();
                const headerRect = headerContent.getBoundingClientRect();
                
                status += `<div class="debug-item">Position: ${navStyles.position}</div>`;
                status += `<div class="debug-item">Left: ${navStyles.left}</div>`;
                status += `<div class="debug-item">Transform: ${navStyles.transform}</div>`;
                status += `<div class="debug-item">Justify-content: ${navStyles.justifyContent}</div>`;
                
                // Calcular posi√ß√£o real
                const navCenter = navRect.left + navRect.width / 2;
                const headerCenter = headerRect.left + headerRect.width / 2;
                const offset = Math.abs(navCenter - headerCenter);
                
                status += `<div class="debug-item">Centro do nav: ${navCenter.toFixed(1)}px</div>`;
                status += `<div class="debug-item">Centro do header: ${headerCenter.toFixed(1)}px</div>`;
                status += `<div class="debug-item">Offset: ${offset.toFixed(1)}px</div>`;
                
                if (offset < 5) {
                    status += '<div class="debug-item success">‚úÖ Menu est√° centralizado!</div>';
                } else if (offset < 20) {
                    status += '<div class="debug-item warning">‚ö†Ô∏è Menu quase centralizado</div>';
                    solutionsHtml += '<div class="debug-item warning">O menu est√° quase centralizado. Pode ser um problema de arredondamento ou elementos com larguras diferentes.</div>';
                } else {
                    status += '<div class="debug-item error">‚ùå Menu n√£o est√° centralizado</div>';
                    solutionsHtml += '<div class="debug-item error">O menu n√£o est√° centralizado. Verifique se os elementos laterais t√™m larguras equilibradas.</div>';
                }
                
                // Atualizar guia visual
                const percentage = (navCenter / window.innerWidth) * 100;
                menuVisualPosition.style.left = percentage + '%';
                menuVisualPosition.textContent = `Menu (${percentage.toFixed(1)}%)`;
                
                // Verificar elementos laterais
                if (logoSection && userSection) {
                    const logoRect = logoSection.getBoundingClientRect();
                    const userRect = userSection.getBoundingClientRect();
                    
                    status += `<div class="debug-item">Logo width: ${logoRect.width.toFixed(1)}px</div>`;
                    status += `<div class="debug-item">User section width: ${userRect.width.toFixed(1)}px</div>`;
                    
                    const widthDiff = Math.abs(logoRect.width - userRect.width);
                    if (widthDiff > 50) {
                        status += '<div class="debug-item warning">‚ö†Ô∏è Elementos laterais com larguras muito diferentes</div>';
                        solutionsHtml += '<div class="debug-item warning">Os elementos laterais (logo e user section) t√™m larguras muito diferentes, o que pode afetar a centraliza√ß√£o.</div>';
                    }
                }
            }
            
            // Solu√ß√µes gerais
            solutionsHtml += '<div class="debug-item">üí° Solu√ß√£o 1: Certifique-se de que os elementos laterais tenham larguras similares</div>';
            solutionsHtml += '<div class="debug-item">üí° Solu√ß√£o 2: Use position: absolute com left: 50% e transform: translateX(-50%)</div>';
            solutionsHtml += '<div class="debug-item">üí° Solu√ß√£o 3: Use CSS Grid com grid-template-columns: 1fr auto 1fr</div>';
            solutionsHtml += '<div class="debug-item">üí° Solu√ß√£o 4: Verifique se n√£o h√° CSS conflitante de outros arquivos</div>';
            
            menuStatus.innerHTML = status;
            solutions.innerHTML = solutionsHtml;
            
        }, 1500);
    </script>
</body>
</html>
